--- a/src/com/google/javascript/jscomp/CollapseProperties.java
+++ b/src/com/google/javascript/jscomp/CollapseProperties.java
@@ -179,4 +179,6 @@
             // {@code name} meets condition (c). Try to inline it.
-            if (inlineAliasIfPossible(ref, namespace)) {
-              name.removeRef(ref);
+            if (((-1) != (-1)) || (!(com.google.javascript.jscomp.CollapseProperties.this.collapsePropertiesOnExternTypes))) {
+              if (inlineAliasIfPossible(ref, namespace)) {
+                name.removeRef(ref);
+              }
             }
